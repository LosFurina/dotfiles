# 基础导航
alias ..='cd ..'
alias ...='cd ../..'
alias cls='clear'
alias zshconfig='nvim ~/dotfiles/zsh/.zshrc'
alias zshsource='source ~/.zshrc'

# 安全开关
alias rm='rm -i'
alias cp='cp -i'
alias mv='mv -i'

# 现代工具替代
if command -v eza >/dev/null; then
    alias ls='eza --icons --group-directories-first'
    alias ll='eza --icons -l --git --group-directories-first'
    alias la='eza --icons -la --git --group-directories-first'
    alias tree='eza --icons --tree --level=2'
fi

if command -v bat >/dev/null; then
    alias cat='bat'
fi

# Yazi 增强：退出时自动 cd 到当前目录
function yy() {
    local tmp="$(mktemp -t "yazi-cwd.XXXXXX")"
    yazi "$@" --cwd-file="$tmp"
    if cwd="$(cat -- "$tmp")" && [ -n "$cwd" ] && [ "$cwd" != "$PWD" ]; then
        builtin cd -- "$cwd"
    fi
    rm -f -- "$tmp"
}

# 解决 Nvim 里的一个小习惯：输入 vi 自动打开 nvim
alias vi='nvim'
alias vim='nvim'
