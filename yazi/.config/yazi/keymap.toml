# === Yazi 快捷键配置 ===
# 文档: https://yazi-rs.github.io/docs/configuration/keymap

[manager]

prepend_keymap = [
    # 导航增强
    { on = ["<C-u>"], run = "seek -5", desc = "快速上移 5 行" },
    { on = ["<C-d>"], run = "seek 5", desc = "快速下移 5 行" },
    { on = ["<C-b>"], run = "seek -100", desc = "向上翻页" },
    { on = ["<C-f>"], run = "seek 100", desc = "向下翻页" },

    # Vim 风格导航
    { on = ["h"], run = "leave", desc = "返回上级目录" },
    { on = ["l"], run = "enter", desc = "进入目录" },
    { on = ["j"], run = "arrow 1", desc = "下移" },
    { on = ["k"], run = "arrow -1", desc = "上移" },

    # 跳转
    { on = ["g", "g"], run = "arrow -99999999", desc = "跳转到顶部" },
    { on = ["G"], run = "arrow 99999999", desc = "跳转到底部" },

    # 文件操作
    { on = ["<Space>"], run = "toggle", desc = "切换选择" },
    { on = ["v"], run = "visual_mode", desc = "可视化模式" },
    { on = ["V"], run = "visual_mode --unset", desc = "退出可视化模式" },

    # 复制/剪切/粘贴
    { on = ["y"], run = "yank", desc = "复制" },
    { on = ["x"], run = "yank --cut", desc = "剪切" },
    { on = ["p"], run = "paste", desc = "粘贴" },
    { on = ["P"], run = "paste --force", desc = "强制覆盖粘贴" },

    # 删除
    { on = ["d"], run = "remove", desc = "移到回收站" },
    { on = ["D"], run = "remove --permanently", desc = "永久删除" },

    # 创建
    { on = ["a"], run = "create", desc = "创建文件/目录" },
    { on = ["r"], run = "rename", desc = "重命名" },

    # 搜索
    { on = ["/"], run = "find", desc = "查找" },
    { on = ["n"], run = "find_arrow", desc = "下一个搜索结果" },
    { on = ["N"], run = "find_arrow --previous", desc = "上一个搜索结果" },

    # 排序
    { on = ["s", "m"], run = "sort modified --dir-first", desc = "按修改时间排序" },
    { on = ["s", "M"], run = "sort modified --dir-first --reverse", desc = "按修改时间倒序" },
    { on = ["s", "n"], run = "sort natural --dir-first", desc = "按名称排序" },
    { on = ["s", "N"], run = "sort natural --dir-first --reverse", desc = "按名称倒序" },
    { on = ["s", "s"], run = "sort size --dir-first", desc = "按大小排序" },
    { on = ["s", "S"], run = "sort size --dir-first --reverse", desc = "按大小倒序" },

    # 标签页
    { on = ["t"], run = "tab_create --current", desc = "新建标签页" },
    { on = ["T"], run = "tab_close", desc = "关闭标签页" },
    { on = ["1"], run = "tab_switch 0", desc = "切换到标签 1" },
    { on = ["2"], run = "tab_switch 1", desc = "切换到标签 2" },
    { on = ["3"], run = "tab_switch 2", desc = "切换到标签 3" },
    { on = ["["], run = "tab_switch -1 --relative", desc = "上一个标签" },
    { on = ["]"], run = "tab_switch 1 --relative", desc = "下一个标签" },

    # 隐藏文件
    { on = ["."], run = "hidden toggle", desc = "切换显示隐藏文件" },

    # 退出
    { on = ["q"], run = "quit", desc = "退出" },
    { on = ["Q"], run = "quit --no-cwd-file", desc = "退出不保存路径" },

    # Shell
    { on = ["!"], run = "shell", desc = "执行 Shell 命令" },

    # 帮助
    { on = ["?"], run = "help", desc = "显示帮助" },
]

[tasks]

keymap = [
    { on = ["<Esc>"], run = "close", desc = "隐藏任务管理器" },
    { on = ["<C-c>"], run = "cancel", desc = "取消任务" },
    { on = ["w"], run = "arrow -1", desc = "上一个任务" },
    { on = ["s"], run = "arrow 1", desc = "下一个任务" },
    { on = ["<Up>"], run = "arrow -1", desc = "上一个任务" },
    { on = ["<Down>"], run = "arrow 1", desc = "下一个任务" },
]

[select]

keymap = [
    { on = ["<Esc>"], run = "close", desc = "取消选择" },
    { on = ["<Enter>"], run = "close --submit", desc = "确认选择" },
    { on = ["k"], run = "arrow -1", desc = "上移" },
    { on = ["j"], run = "arrow 1", desc = "下移" },
    { on = ["<Up>"], run = "arrow -1", desc = "上移" },
    { on = ["<Down>"], run = "arrow 1", desc = "下移" },
]

[input]

keymap = [
    { on = ["<Esc>"], run = "close", desc = "取消输入" },
    { on = ["<Enter>"], run = "close --submit", desc = "确认输入" },
    { on = ["<C-c>"], run = "close", desc = "取消" },
    { on = ["<C-u>"], run = "kill bol", desc = "清除到行首" },
]

[completion]

keymap = [
    { on = ["<Esc>"], run = "close", desc = "取消补全" },
    { on = ["<Tab>"], run = "close --submit", desc = "确认补全" },
    { on = ["<C-k>"], run = "arrow -1", desc = "上一个补全" },
    { on = ["<C-j>"], run = "arrow 1", desc = "下一个补全" },
]

[help]

keymap = [
    { on = ["<Esc>"], run = "escape", desc = "清除过滤或退出" },
    { on = ["q"], run = "close", desc = "退出帮助" },
    { on = ["k"], run = "arrow -1", desc = "上移" },
    { on = ["j"], run = "arrow 1", desc = "下移" },
]
